<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>St.Regis</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div>
        <nav class="navbar navbar-expand-lg bg-white " style="padding: 0% 5%; position: sticky; top: 0; z-index: 1; ">
            <div class="container-fluid">
                <a class="navbar-brand d-flex align-items-center gap-2" href="#">
                    <span
                        style="display:inline-flex; align-items:center; justify-content:center; height:32px; width:32px; border-radius:50%; background:black; color:white; font-weight:bold; font-size:1.2rem; letter-spacing:1px;">SR</span>
                    <span class="fs-bold">St.Regis</span>
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                    aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse " id="navbarSupportedContent">
                    <div style="margin: 0% 10%; display: flex; margin-left: 35%; margin-right: 5%;" class="me-auto">
                        <ul class="navbar-nav me-auto mb-2 mb-lg-0" style="gap: 20px;">
                            <li class="nav-item">
                                <a class="nav-link active" aria-current="page" href="#"
                                    style="color: rgb(11, 219, 11);">Home</a>
                            </li>

                            <li class="nav-item dropdown">
                                <a class="nav-link " href="availjob.html" aria-expanded="false">
                                    Find a job
                                </a>

                            </li>


                    </div>

                    <ul style="display: flex; gap: 15px; list-style: none; padding-top: 12px; ;" id="Signupin">
                        <li class="nav-item bg-success text-white"
                            style="border: none; border-radius: 5px; padding: 5px 13px;">
                            <a class="nav-link" href="signup.html">Register</a>
                        </li>
                        <li class="nav-item">
                            <button
                                style="background-color: rgb(11, 219, 11); border: none; border-radius: 5px; padding: 5px 13px;">
                                <a class="nav-link" href="login.html">Login</a>
                            </button>
                        </li>

                    </ul>
                    <div id="signout" style="display: none;">
                        <button id="signout"
                            style="background-color: rgb(11, 219, 11); border: none; border-radius: 5px; padding: 5px 13px;"
                            onclick="sessionStorage.removeItem('user'); location.reload();">
                            Sign out
                        </button>
                    </div>
                </div>
            </div>
        </nav>

    </div>
    <div style="background-color: rgb(236, 255, 236); width: 100%;"
        class=" container-fluid w-100 p-lg-5  p-3 d-flex flex-lg-row flex-column" id="hero">
        <div class="  w-100 ">
            <h1 class=" w-100 fw-bolder text-md-center text-lg-start ">The <span
                    style="color: rgb(11, 219, 11);;">Fastest and Easiest </span> Way to
                Find a Job</h1>
            <p class="w-100 fs-6 fs-md-5 fs-lg-4" style="color: rgb(67, 65, 65);">Every month, over 3 million people
                visit our website to look for job opportunities.
                They use our platform to explore openings that match their skills and interests. Each day,
                more than 140,000 job applications are submitted through our site.
            </p>
            <div class="w-100 d-flex bg-white gap-3 py-1  me-lg-5 ps-3" style="height: 35px; ">
                <select class="w-25" id="countryFilter" onchange="searchJobs()" style="border: 2px solid rgb(11, 219, 11);color: rgb(25,135,84);">
                    <option value="" class="fs-6" style="border: 2px solid rgb(11, 219, 11)">Country</option>
                    <option value="USA" class="fs-6" style="border: 2px solid rgb(11, 219, 11)">USA</option>
                    <option value="United Kingdom" class="fs-6">United Kingdom</option>
                    <option value="Canada" class="fs-6">Canada</option>
                    <option value="Germany" class="fs-6">Germany</option>
                </select>
                <input class="border border-success w-50 rounded" id="searchInput" placeholder="Search jobs..."
                    style="border: 2px solid ;">
                <button class="btn d-flex justify-content-center align-items-center px-3" onclick="searchJobs()"
                    style="height: 28px; min-width: 80px; background-color: rgb(11, 219, 11);">Search</button>
            </div>
            <div class="d-flex mt-3 g-2 " style="min-width: 290px;">
                <p class="fs-6">Popular searches: </p>
                <p><a class="ps-1 fs-6" style="text-decoration: none; color:  rgb(11, 219, 11);" href="">Driver</a></p>
                <p><a class="ps-1 fs-6" style="text-decoration: none; color:  rgb(11, 219, 11);"
                        href="">Construction</a></p><span><a class="ps-1 fs-6"
                        style="text-decoration: none; color:  rgb(11, 219, 11);" href="">Cleaning</a></span>
            </div>
        </div>
        <div class="w-100 py-3 py-lg-2 px-lg-5 my-2  ">
            <div class="pslg-5">
                <div class="ps-lg- ">
                    <img class="w-100 h-auto " style="min-width: 300px;" src="images/pexels-fauxels-3184360.jpg" alt="">
                    <!-- <img class="w-50 " src="../images/pexels-tima-miroshnichenko-5439381.jpg" alt=""> -->
                </div>
            </div>
        </div>



    </div>

    <div>
        <div id="search/selectresult">
        </div>
    </div>
    </div>

    <div class="px-lg-5 px-md-2 px-2 ">
        <h3 class="text-center " style="">
            Categories of Available Jobs
        </h3>
        <p class="text-center">Find the job that’s perfect for you. about 800+ new jobs everyday</p>
        <div class="row row-cols-2 row-cols-md-3 row-cols-lg-5 g-4 justify-content-center py-3">
            <div class="col">
                <div class="card h-100 shadow rounded-4 border-0 text-center p-3"
                    style="min-width:180px; max-width:220px; height:260px;">
                    <img src="images/monitoring_24dp_75FB4C_FILL0_wght400_GRAD0_opsz24.svg" class="mx-auto mb-3"
                        style="width:56px;" alt="Finance">
                    <h5 class="fw-bold mb-1">Finance</h5>
                    <p class="text-muted mb-2">4 vacancy</p>
                    <button class="btn btn-success btn-sm rounded-pill px-4" onclick="apply()">Apply</button>
                </div>
            </div>
            <div class="col">
                <div class="card h-100 shadow rounded-4 border-0 text-center p-3"
                    style="min-width:180px; max-width:220px; height:260px;">
                    <img src="images/diversity_3_24dp_75FB4C_FILL0_wght400_GRAD0_opsz24.svg" class="mx-auto mb-3"
                        style="width:56px;" alt="HR">
                    <h5 class="fw-bold mb-1">Human Resources</h5>
                    <p class="text-muted mb-2">3 vacancy</p>
                    <button class="btn btn-success btn-sm rounded-pill px-4" onclick="apply()">Apply</button>
                </div>
            </div>
            <div class="col">
                <div class="card h-100 shadow rounded-4 border-0 text-center p-3"
                    style="min-width:180px; max-width:220px; height:260px;">
                    <img src="images/shopping_bag_24dp_75FB4C_FILL0_wght400_GRAD0_opsz24.svg" class="mx-auto mb-3"
                        style="width:56px;" alt="Retail">
                    <h5 class="fw-bold mb-1">Retail & Products</h5>
                    <p class="text-muted mb-2">5 vacancy</p>
                    <button class="btn btn-success btn-sm rounded-pill px-4" onclick="apply()">Apply</button>
                </div>
            </div>
            <div class="col">
                <div class="card h-100 shadow rounded-4 border-0 text-center p-3"
                    style="min-width:180px; max-width:220px; height:260px;">
                    <img src="images/call_24dp_75FB4C_FILL0_wght400_GRAD0_opsz24.svg" class="mx-auto mb-3"
                        style="width:56px;" alt="Call Center">
                    <h5 class="fw-bold mb-1">Call Center Rep</h5>
                    <p class="text-muted mb-2">2 vacancy</p>
                    <button class="btn btn-success btn-sm rounded-pill px-4" onclick="apply()">Apply</button>
                </div>
            </div>
            <div class="col">
                <div class="card h-100 shadow rounded-4 border-0 text-center p-3"
                    style="min-width:180px; max-width:220px; height:260px;">
                    <img src="images/bar_chart_4_bars_24dp_75FB4C_FILL0_wght400_GRAD0_opsz24.svg" class="mx-auto mb-3"
                        style="width:56px;" alt="Marketing">
                    <h5 class="fw-bold mb-1">Marketing</h5>
                    <p class="text-muted mb-2">6 vacancy</p>
                    <button class="btn btn-success btn-sm rounded-pill px-4" onclick="apply()">Apply</button>
                </div>
            </div>
            <div class="col">
                <div class="card h-100 shadow rounded-4 border-0 text-center p-3"
                    style="min-width:180px; max-width:220px; height:260px;">
                    <img src="images/table_edit_24dp_75FB4C_FILL0_wght400_GRAD0_opsz24.svg" class="mx-auto mb-3"
                        style="width:56px;" alt="Software Engineer">
                    <h5 class="fw-bold mb-1">Software Engineer</h5>
                    <p class="text-muted mb-2">8 vacancy</p>
                    <button class="btn btn-success btn-sm rounded-pill px-4" onclick="apply()">Apply</button>
                </div>
            </div>
            <div class="col">
                <div class="card h-100 shadow rounded-4 border-0 text-center p-3"
                    style="min-width:180px; max-width:220px; height:260px;">
                    <img src="images/support_agent_24dp_75FB4C_FILL0_wght400_GRAD0_opsz24.svg" class="mx-auto mb-3"
                        style="width:56px;" alt="Customer Support">
                    <h5 class="fw-bold mb-1">Customer Support</h5>
                    <p class="text-muted mb-2">7 vacancy</p>
                    <button class="btn btn-success btn-sm rounded-pill px-4" onclick="apply()">Apply</button>
                </div>
            </div>
            <div class="col">
                <div class="card h-100 shadow rounded-4 border-0 text-center p-3"
                    style="min-width:180px; max-width:220px; height:260px;">
                    <img src="images/admin_panel_settings_24dp_75FB4C_FILL0_wght400_GRAD0_opsz24.svg"
                        class="mx-auto mb-3" style="width:56px;" alt="Data Analyst">
                    <h5 class="fw-bold mb-1">Data Analyst</h5>
                    <p class="text-muted mb-2">5 vacancy</p>
                    <button class="btn btn-success btn-sm rounded-pill px-4" onclick="apply()">Apply</button>
                </div>
            </div>
            <div class="col">
                <div class="card h-100 shadow rounded-4 border-0 text-center p-3"
                    style="min-width:180px; max-width:220px; height:260px;">
                    <img src="images/pexels-tima-miroshnichenko-5439381.jpg" class="mx-auto mb-3 rounded"
                        style="width:56px; height:56px; object-fit:cover;" alt="Product Manager">
                    <h5 class="fw-bold mb-1">Product Manager</h5>
                    <p class="text-muted mb-2">4 vacancy</p>
                    <button class="btn btn-success btn-sm rounded-pill px-4" onclick="apply()">Apply</button>
                </div>
            </div>
            <div class="col">
                <div class="card h-100 shadow rounded-4 border-0 text-center p-3"
                    style="min-width:180px; max-width:220px; height:260px;">
                    <img src="images/pexels-pixabay-416405.jpg" class="mx-auto mb-3 rounded"
                        style="width:56px; height:56px; object-fit:cover;" alt="UX Designer">
                    <h5 class="fw-bold mb-1">UX Designer</h5>
                    <p class="text-muted mb-2">6 vacancy</p>
                    <button class="btn btn-success btn-sm rounded-pill px-4" onclick="apply()">Apply</button>
                </div>
            </div>
        </div>
    </div>

    <div class="d-lg-flex mx-lg-4 mx-md-2 mx-sm-1 my-4 border py-3 shadow-lg"
        style="margin-bottom:2rem; margin-top:2rem;">
        <div class="  w-100 px-2 ">
            <h3 class="fs-lg-1 fs-md-2 fs-3 mb-2 ">Listings You Can Trust</h3>
            <p class="fs-5 fs-md-4 fs-lg-3 mb-4">Our team works tirelessly to remove all the junk so only genuine remote
                roles make the cut.</p>
            <button class="btn btn-success" onclick="GetStarted()">Get Started</button>
        </div>
        <div class="  w-lg-50 w-100 px-3">
            <div class="d-lg-flex d-md-flex  " style="gap: 10px;">
                <div class="d-flex gap-3 mt-2 align-items-center border w-100 w-md-25 w-lg-25 px-1"
                    style="height: 50px; box-shadow: -5px 5px 0 0 rgba(11,219,11,0.25), 0 5px 0 0 rgba(11,219,11,0.25);">
                    <img style="width: 20px;height: 10px;" src="images/cnn.png" alt="">
                    <p class="fw-bold pt-3 w-75" style="font-size: 10px;">Jobs scams are on the rise</p>
                </div>
                <div class="d-flex mt-2 gap-2 align-items-center border shadom-bottom w-100 w-md-75 w-lg-75 px-1"
                    style="height: 50px;box-shadow: -5px 5px 0 0 #198754, 0 5px 0 0 #198754;">
                    <img style="width: 90px;height: 20px;" src="images/washington.png" alt="">
                    <p class="fw-bold pt-3" style="font-size: 10px;">Fake job postings are stealing applicants’ money
                        and identities</p>
                </div>
            </div>
            <div class="d-flex  mt-3 gap-2 align-items-center border shadom-bottom w-100 px-1 "
                style="height: 50px;box-shadow: -5px 5px 0 0 rgba(11,219,11,0.25), 0 5px 0 0 rgba(11,219,11,0.25)">
                <img style="width: 90px;height: 20px;" src="images/losangeles.png" alt="">
                <p class="fw-bold pt-3" style="font-size: 10px;">Fake job scams are skyrocketing online - and they're
                    getting harder to detect</p>
            </div>
            <div class="d-lg-flex d-md-flex mt-3 " style="gap: 10px;">
                <div class="d-flex gap-3 align-items-center border w-100 px-1"
                    style="height: 50px; box-shadow: -5px 5px 0 0 #198754, 0 5px 0 0 #198754;">
                    <img style="width: 20px;height: 10px;" src="images/cnn.png" alt="">
                    <p class="fw-bold pt-3 w-75" style="font-size: 10px;">Jobs scams are on the rise</p>
                </div>
                <div class="d-flex  gap-2 align-items-center border shadom-bottom w-100 px-1 "
                    style="height: 50px;box-shadow: -5px 5px 0 0 rgba(11,219,11,0.25), 0 5px 0 0 rgba(11,219,11,0.25);">
                    <img style="width: 90px;height: 20px;" src="images/washington.png" alt="">
                    <p class="fw-bold pt-3" style="font-size: 10px;">Fake job postings are stealing applicants’ money
                        and identities</p>
                </div>
            </div>

        </div>


    </div>
    <footer class=" text-light mt-5 pt-4 pb-2" style="background-color: rgb(11, 219, 11);">
        <div class="container">
            <div class="row row-cols-1 row-cols-md-3 g-4 align-items-center">
                <div class="col mb-3 mb-md-0 text-center text-md-start">
                    <h5 class="fw-bold">St.Regis</h5>
                    <p class="small">Connecting talent with opportunity across America & Europe. Find your dream
                        remote
                        job today!</p>
                </div>
                <div class="col mb-3 mb-md-0 text-center">
                    <h6 class="fw-bold">Quick Links</h6>
                    <ul class="list-unstyled">
                        <li><a href="#" class="text-light text-decoration-none">Home</a></li>
                        <li><a href="#" class="text-light text-decoration-none">Jobs</a></li>
                        <li><a href="#" class="text-light text-decoration-none">Companies</a></li>
                        <li><a href="#" class="text-light text-decoration-none">Contact</a></li>
                    </ul>
                </div>
                <div class="col text-center text-md-end">
                    <h6 class="fw-bold">Follow Us</h6>
                    <a href="#" class="text-light me-2"><i class="bi bi-facebook"></i></a>
                    <a href="#" class="text-light me-2"><i class="bi bi-twitter"></i></a>
                    <a href="#" class="text-light me-2"><i class="bi bi-linkedin"></i></a>
                    <a href="#" class="text-light"><i class="bi bi-instagram"></i></a>
                </div>
            </div>
            <hr class="border-light my-3">
            <div class="text-center small">&copy; 2025 JobFinder. All rights reserved.</div>
        </div>
    </footer>

    <!-- Simple Warning Modal -->
    <div class="modal fade" id="warningModal" tabindex="-1" aria-labelledby="warningModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header" style="background-color: rgb(11, 219, 11); border-bottom: none;">
                    <h5 class="modal-title text-white fw-bold" id="warningModalLabel">
                        <i class="bi bi-exclamation-triangle-fill me-2"></i>
                        Notice
                    </h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"
                        aria-label="Close"></button>
                </div>
                <div class="modal-body py-4">
                    <p id="warningMessage" class="mb-0 text-center">Warning message will appear here</p>
                </div>
                <div class="modal-footer border-top-0 justify-content-center">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn text-white" id="warningOkBtn"
                        style="background-color: rgb(11, 219, 11);">OK</button>
                </div>
            </div>
        </div>
    </div>
</body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO" crossorigin="anonymous">

    </script>
<script type="module">
    // Import Firebase modules
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
    import { getDatabase, ref, get } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-database.js";
    import { firebaseConfig } from "./config.js";

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const database = getDatabase(app);

    let allJobs = [];

    // Function to show warning modal instead of alert
    const showWarning = (message, callback = null) => {
        document.getElementById('warningMessage').textContent = message;
        const modal = new bootstrap.Modal(document.getElementById('warningModal'));

        // Handle OK button click
        const okBtn = document.getElementById('warningOkBtn');
        const newOkBtn = okBtn.cloneNode(true);
        okBtn.parentNode.replaceChild(newOkBtn, okBtn);

        newOkBtn.addEventListener('click', () => {
            modal.hide();
            if (callback) callback();
        });

        modal.show();
    };

    // Load all jobs from Firebase
    const loadJobsFromFirebase = async () => {
        try {
            const jobsRef = ref(database, 'availableJobs/jobs');
            const snapshot = await get(jobsRef);

            if (snapshot.exists()) {
                const jobs = snapshot.val();
                allJobs = Array.isArray(jobs) ? jobs : Object.values(jobs);
            } else {
                allJobs = [];
            }
        } catch (error) {
            // Error loading jobs
        }
    };

    // Search and filter jobs
    const searchJobs = () => {
        const searchTerm = document.getElementById('searchInput').value.toLowerCase();
        const countryFilter = document.getElementById('countryFilter').value;

        let filteredJobs = allJobs;

        // Filter by search term (title, description, location)
        if (searchTerm) {
            filteredJobs = filteredJobs.filter(job =>
                job.title.toLowerCase().includes(searchTerm) ||
                job.description.toLowerCase().includes(searchTerm) ||
                job.location.toLowerCase().includes(searchTerm) ||
                job.workType.toLowerCase().includes(searchTerm)
            );
        }

        // Filter by country
        if (countryFilter) {
            filteredJobs = filteredJobs.filter(job =>
                job.location.toLowerCase().includes(countryFilter.toLowerCase())
            );
        }

        displaySearchResults(filteredJobs);
    };

    // Display search results
    const displaySearchResults = (jobs) => {
        const resultsContainer = document.getElementById('search/selectresult');

        if (jobs.length === 0) {
            resultsContainer.innerHTML = `
                <div class="container mt-4">
                    <div class="alert alert-info text-center">
                        <h5>No jobs found</h5>
                        <p>Try adjusting your search criteria or browse all available jobs.</p>
                        <a href="availjob.html" class="btn btn-success">View All Jobs</a>
                    </div>
                </div>
            `;
            return;
        }

        resultsContainer.innerHTML = `
            <div class="container mt-4">
                <div class="row">
                    <div class="col-12">
                        <h3 class="mb-4">Search Results (${jobs.length} jobs found)</h3>
                        <div class=" g-4">
                            ${jobs.map(job => `
                                <div class="col">
                                    <div class="card shadow-sm h-100" style="background-color: rgb(236, 255, 236);">
                                        <div class="card-body">
                                            <h5 class="card-title text-success">${job.title}</h5>
                                            <div class="d-flex my-3 flex-wrap gap-2">
                                                <span class="badge bg-success">${job.wage}</span>
                                                <span class="badge bg-dark">${job.workType}</span>
                                            </div>
                                            <h6 class="card-subtitle mb-2 text-muted">
                                                <i class="bi bi-geo-alt"></i> ${job.location}
                                            </h6>
                                            <p class="card-text">${job.description.substring(0, 100)}${job.description.length > 100 ? '...' : ''}</p>
                                            <div class="mt-auto">
                                                <button class="btn btn-outline-success w-100" onclick="applyForJob('${job.id}')">
                                                    Apply Now
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                        <div class="text-center my-4">
                            <button class="btn btn-success" onclick="clearResults()">Clear Results</button>
                            <a href="availjob.html" class="btn btn-outline-success ms-2">View All Jobs</a>
                        </div>
                    </div>
                </div>
            </div>
        `;
    };

    // Clear search results
    const clearResults = () => {
        document.getElementById('search/selectresult').innerHTML = '';
        document.getElementById('searchInput').value = '';
        document.getElementById('countryFilter').value = '';
    };

    // Apply for job function
    const applyForJob = (jobId) => {
        const user = JSON.parse(sessionStorage.getItem('user'));
        if (user) {
            // Store selected job in session and redirect
            sessionStorage.setItem('selectedJobId', jobId);
            window.location.href = 'apply.html';
        } else {
            showWarning('Please log in to apply for jobs', () => {
                window.location.href = 'login.html';
            });
        }
    };

    // Make functions globally available
    window.searchJobs = searchJobs;
    window.clearResults = clearResults;
    window.applyForJob = applyForJob;
    window.showWarning = showWarning;

    // Load jobs when page loads
    document.addEventListener('DOMContentLoaded', () => {
        loadJobsFromFirebase();
    });
</script>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        const log = document.getElementById("Signupin");
        const logout = document.getElementById("signout");

        const user = JSON.parse(sessionStorage.getItem('user'));

        if (user) {
            log.style.display = 'none';
            logout.style.display = 'flex';
        } else {
            log.style.display = 'flex';
        }
    });

    const GetStarted = () => {
        const user = JSON.parse(sessionStorage.getItem('user'));
        if (user) {
            window.location.href = 'availjob.html';
        } else {
            window.showWarning("Please log in to continue");
        }
    }
    const apply = () => {
        const user = JSON.parse(sessionStorage.getItem('user'));
        if (user) {
            window.location.href = 'apply.html';
        } else {
            window.showWarning("Please log in to continue");
        }
    }

</script>

</html>